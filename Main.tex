\input{Header.tex}
%\usepackage{lua-visual-debug}

%\usepackage[generate,ps2eps]{abc}

\newcommand{\Rsamplefox}{Giffib:\ ``The\ quick\ brown\ fox\ jumped\ over\ the\ lazy\ dog.''}
\newcommand{\Rsampleupp}{ABCDEFGHIJKLMNOPQRSTUVWXYZ}
\newcommand{\Rsamplelow}{abcdefghijklmnopqrstuvwxyz}
\newcommand{\Rsamplenum}{0123456789}
\newcommand{\Rsampleall}{\Rsamplefox\\\Rsampleupp\\\Rsamplelow\\\Rsamplenum}

\newwrite\tempfile

%% TESTING GROUND

\begin{document}

\Rtitlepage{Alexander J. Johnson}{R's Book}{Ranford Skyline's Book Template}{%
    Fully customised document template including:
    \begin{itemize}
        \item Custom document hierarchy: book, part, chapter, section,
            subsection.
        \item Custom tables of contents.
        \item Custom fonts.
        \item Support for:
            \begin{itemize}
                \item Linguistics,
                \item Hyperlinks,
            \end{itemize}
        \item Some other stuff.
    \end{itemize}
}

\Rvolume{Page Layout}

\layout

\Rvolume{Testing}
\renewcommand{\Rcurrentchapter}{The Testing Ground}

\textbf{Standard} - \Rsampleall

\textbf{Italics} - \textit{\Rsampleall}

\textbf{Bold} - \textbf{\Rsampleall}

\textbf{Bold Italics} - \textbf{\textit{\Rsampleall}}

\textbf{Typewriter} - \texttt{\Rsampleall}

\textbf{Small Caps} - \textsc{\Rsampleall}

\textbf{Math Mode} - $\Rsampleall$

\textbf{Math Calligraphic} - $\mathcal{\Rsampleupp}$

\textbf{Math Backboard} - $\mathbb{\Rsampleupp}$

\textbf{Math Fraktur} - $\mathfrak{\Rsamplefox}$\\$\mathfrak{\Rsampleupp}$\\%
$\mathfrak{\Rsamplelow}$\\$\mathfrak{\Rsamplenum}$


\newpage

%\textit{wund\textbf{\underline{\u{V}}}de}

\lipsum[1]

\newcounter{alpha}
\newcounter{gamma}
\setcounter{gamma}{1}
\ifnum\value{alpha}=\value{gamma}
    True
\else
    False
\fi


\newcommand{\what}{why?}
\protect\input{RSkylToC.tex}

\ifdefined\RSKYLTOCINC
    The RSkylToC.tex file was complete
    \lstinputlisting{RSkylToC.tex}
\else
    RSkylToc.tex not marked, first pass?
\fi

Hello World!
\begin{align*}
    %y_j &= \xi^j
    B_n(t) &= \sum_{i=0}^{n} \begin{pmatrix} n \\ i \end{pmatrix} t^i
        \left(\sum_{j=0}^{i} \begin{pmatrix} i \\ j \end{pmatrix} x_j(-1)^{i-j}\right)
\end{align*}

\TODO{This bit}
\HIDE{This other bit}

\renewcommand{\what}{what?}
\newcommand{\What}{\noexpand\what}

\immediate\openout\tempfile=RSkylToC.tex
\immediate\write\tempfile{\noexpand\newcommand{\noexpand\RSKYLTOCINC}{}}
\immediate\write\tempfile{this is interesting}
\immediate\write\tempfile{}
\immediate\write\tempfile{this is also interesting}
\immediate\write\tempfile{\noexpand\what{} \what{} \What{}}
\immediate\write\tempfile{\noexpand\textbf{\noexpand\textit{'cause foo}}}
\immediate\closeout\tempfile

\newpagerecto
Hi, Beans!
\newpageverso
Go away\dots

\newpage
This is the start of some text:
\begin{enumerate}
    \item enumeration item number one;
    \item another item,
        \begin{enumerate}
            \item nested enumerate,
            \item more stuff;
        \end{enumerate}
    \item ``A can o' beans.''
\end{enumerate}
More text that follows after it:
\begin{itemize}
    \item itemize item number one;
    \item another item,
        \begin{itemize}
            \item nested itemize,
            \item more stuff;
        \end{itemize}
    \item ``No more beans for you...''
\end{itemize}
\lipsum[2-3]
\begin{enumerate}
    \item alpha \label{alpha}
        \begin{enumerate}
            \item beta \label{beta}
                \begin{enumerate}
                    \item gamma \label{gamma}
                \end{enumerate}
        \end{enumerate}
\end{enumerate}
alpha \ref{alpha},
beta \ref{beta},
gamma \ref{gamma}.

\noindent Alla nasa ero monite\\
Alla nasa ero monite\\
polo Anne jena golly quack\\
polo Anne jena golly quack\\

A test of the IPA command \ipa{/ɹʌka/}.
\begin{center}
    \forestapplylibrarydefaults{linguistics}
    \begin{forest}
        syntax
        [S  [I  [Q  [V [Do]]
                    [N [you]]
                ]
                [VP [AV [really]]
                    [V [like]]
                ]
            ]
            [Det [N [my]]
                 [NP [Adj [red]]
                     [N [dress ?, roof]]
                 ]
            ]
        ]
    \end{forest}
\end{center}

\newpage
\Rvolume{Test Volume}
%
Some volume text

\Rchapter{Test Chapter}
%
Some chapter text

\Rsection{Test Section}
%
Some section text

\Rsubsect{Test Subsect}
%
Some subsection text

%\immediate\write\Rmajortocfile{\noexpand\Rtocline{2cm}{1.}{Test Section}{12}{}}
%\immediate\write\Rmajortocfile{\noexpand\Rtocline{2.5cm}{1.}{Test Subsection}{12}{}}
\Rmajortoc

\end{document}
