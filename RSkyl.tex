\documentclass{book}

%% Packages

\usepackage{geometry}
\geometry{%
    a4paper,
    top=1in,
    bottom=1in,
    left=1in,
    right=1in,
    %bindingoffset=5mm
}

% Font
\usepackage{fontspec}
    \DeclareTextCommandDefault{\nobreakspace}{\leavevmode\nobreak\ }
\usepackage{newpxtext}
\usepackage[euler-digits,euler-hat-accent]{eulervm}

\newfontfamily\fontcaudex{Caudex}%-Regular}
\newcommand{\textcaudex}[1]{{\fontcaudex #1}}

% Mathematics
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amstext}
\usepackage{mathtools}
\usepackage{array}

% Header
\usepackage{fancyhdr}

% Code
\usepackage[cache=false]{minted}
\usepackage{listings}

% Graphics
\usepackage{graphicx}
\usepackage{tikz}
    \usetikzlibrary{arrows}
    \usetikzlibrary{arrows.meta}
    \usetikzlibrary{patterns}
    \usetikzlibrary{shapes}
    \usetikzlibrary{calc}
    \usetikzlibrary{matrix}
\usepackage{pgfplots}
\usepackage{xcolor}

% Tables of Contents
%\usepackage{tocloft}
%\usepackage{morewrites}

% Hyperlinks
\usepackage{hyperref}



%% Lengths
\setlength{\parskip}{1em}



%% Custom commands

% Error tools

\newcounter{UNDEFerr}
\newcommand{\UNDEF}{%
    \stepcounter{UNDEFerr}
    \PackageWarning{UNDEF}{Use of undefined command (\arabic{UNDEFerr})}
    \underline{\textbf{UNDEF \#\arabic{UNDEFerr}}}
}
\newcommand{\HIDE}[1]{%
    \PackageWarning{HIDE}{Hidden text, page \arabic{page},}
}
\newcommand{\TODO}[1]{%
    \texttt{TODO}: \textit{#1}\PackageWarning{TODO}{"#1", page \arabic{page},}
}

% Header settings

\newcounter{Rsubpage}
\newcommand{\Rcalcsubpage}{%
    \setcounter{Rsubpage}{\value{page}-\value{Rchapterstart}}
}

\fancypagestyle{Rmain}{%
    \fancyhf{}
    \renewcommand{\headrulewidth}{1pt}
    \renewcommand{\footrulewidth}{1pt}
    \setlength{\headheight}{14pt}
    %
    \lhead{\Roman{Rvolume}:\arabic{Rchapter}}
    \chead{\textbf{\Rcurrentchapter}}
    \rhead{\Rcalcsubpage\arabic{Rsubpage}}
    %
    \cfoot{\arabic{page}}
}
\pagestyle{Rmain}

% Page tools

\newcommand{\blankpage}{%
    \thispagestyle{empty}
    ~\newpage
}

\newcommand{\newpagerecto}{%
    \newpage
    \ifodd\value{page}
    \else
        \blankpage
    \fi
}

\newcommand{\newpageverso}{%
    \newpage
    \ifodd\value{page}
        \blankpage
    \else
    \fi
}

% Sectioning

\newcounter{Rvolumestart}
\newcounter{Rchapterstart}

\newcounter{Rvolume}
\newcounter{Rchapter}
\newcounter{Rsection}
\newcounter{Rsubsect}
\newcommand{\Rcurrentvolume}{\UNDEF}
\newcommand{\Rcurrentchapter}{\UNDEF}
\newcommand{\Rcurrentsection}{\UNDEF}
\newcommand{\Rcurrentsubsect}{\UNDEF}
\renewcommand{\theRvolume}{\Roman{Rvolume}}
\renewcommand{\theRchapter}{\arabic{Rchapter}}

\newcommand{\Rtitlepage}[4]{%
    \thispagestyle{empty}
  \vspace*{\fill}
    ~
  \vspace*{\fill}
    \begin{center}
        {\large\textbf{#1}}\\
        \rule[1ex]{\textwidth}{1pt}\\
        {\Huge\textbf{#2}}\\
        \rule[1ex]{\textwidth}{1pt}\\
        {\large\textbf{#3}}
    \end{center}
  \vspace*{\fill}
        #4
  \vspace*{\fill}
    ~
  \vspace*{\fill}
    ~
  \vspace*{\fill}
    \newpage
}

%% End
\usepackage{enumitem}

\usepackage{layout}
\usepackage{lipsum}

\newcommand{\Rsamplefox}{The~quick~brown~fox~jumped~over~the~lazy~dog}
\newcommand{\Rsampleupp}{ABCDEFGHIJKLMNOPQRSTUVWXYZ}
\newcommand{\Rsamplelow}{abcdefghijklmnopqrstuvwxyz}
\newcommand{\Rsamplenum}{0123456789}
\newcommand{\Rsampleall}{\Rsamplefox\\\Rsampleupp\\\Rsamplelow\\\Rsamplenum}

\newwrite\tempfile

%% TESTING GROUND

\begin{document}

\Rtitlepage{Alexander J. Johnson}{R's Book}{Ranford Skyline's Book Template}{%
    Fully customised document template including:
    \begin{itemize}[label=$\cdot$,topsep=0pt]
        \item Custom document hierarchy: book, part, chapter, section,
            subsection.
        \item Custom tables of contents.
        \item .
    \end{itemize}
}

\layout

\setcounter{Rvolume}{1}
\renewcommand{\Rcurrentchapter}{The Testing Ground}

\textbf{Caudex} - \textcaudex{\Rsampleall}

\textbf{Standard} - \Rsampleall

\textbf{Italics} - \textit{\Rsampleall}

\textbf{Bold} - \textbf{\Rsampleall}

\textbf{Bold Italics} - \textbf{\textit{\Rsampleall}}

\textbf{Typewriter} - \texttt{\Rsampleall}

\textbf{Small Caps} - \textsc{\Rsampleall}

\textbf{Math Mode} - $\Rsampleall$

\textbf{Math Calligraphic} - $\mathcal{\Rsampleupp}$

\textbf{Math Backboard} - $\mathbb{\Rsampleupp}$

\textbf{Math Fraktur} - $\mathfrak{\Rsamplefox}$\\$\mathfrak{\Rsampleupp}$\\%
$\mathfrak{\Rsamplelow}$\\$\mathfrak{\Rsamplenum}$


\newpage

%\textit{wund\textbf{\underline{\u{V}}}de}

\lipsum[1]

\newcounter{alpha}
\newcounter{gamma}
\setcounter{gamma}{1}
\ifnum\value{alpha}=\value{gamma}
    True
\else
    False
\fi


\newcommand{\what}{why?}
\protect\input{RSkylToC.tex}

\ifdefined\RSKYLTOCINC
    The RSkylToC.tex file was complete
    \lstinputlisting{RSkylToC.tex}
\else
    RSkylToc.tex not marked, first pass?
\fi

Hello World!
\begin{align*}
    y_j &= \xi^j
\end{align*}

\TODO{This bit}
\HIDE{This other bit}

\renewcommand{\what}{what?}
\newcommand{\What}{\protect\what}

\immediate\openout\tempfile=RSkylToC.tex
\immediate\write\tempfile{\noexpand\newcommand{\noexpand\RSKYLTOCINC}{}}
\immediate\write\tempfile{this is interesting}
\immediate\write\tempfile{}
\immediate\write\tempfile{this is also interesting}
\immediate\write\tempfile{\noexpand\what{} \what{} \noexpand\what{}}
\immediate\write\tempfile{\noexpand\textbf{\noexpand\textit{'cause foo}}}
\immediate\closeout\tempfile

\newpagerecto
Hi, Beans!
\newpageverso
Go away\dots

\end{document}
